<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="app"></div>
</body>
</html>
<script src="../vue.js"></script>
<script>
    /* 
        $on:事件绑定
            参数1：事件名称
            参数2：事件函数

        $emit:事件触发
            参数1：事件名称
            参数2：需要传递的参数【选填】

        $off：事件解绑
            参数1：事件名称 如果不写第二个参数则代表解绑所有事件
            参数2：需要解绑的对应函数【选填】

        $once:事件触发（只触发一次）
    
    */
let vm=new Vue({
    el:"#app",
    data:{

    }
})

function fn1(params){
    console.log(111,params);
}

function fn2(params){
    console.log(222,params);
}

function fn3(params){
    console.log(333,params);
}

vm.$on("handle",fn1);
vm.$on("handle",fn2);
vm.$on("handle",fn3);

vm.$once("handleOnce",fn1);
vm.$once("handleOnce",fn2);
vm.$once("handleOnce",fn3);

// vm.$off("handle");//全部解绑，一个也不输出
vm.$off("handle",fn1);//解绑fn1,输出222 abc   333 abc

vm.$emit("handle");//输出111  undefine,  222  undefine ,  333  undefine
vm.$emit("handle","abc");//会输出
vm.$emit("handle","abc");//会输出
vm.$emit("handle","abc");//会输出
vm.$emit("handleOnce","once");//只输出一次，111 once, 222 once,  333 once
vm.$emit("handleOnce","once");//不会再输出内容
</script>